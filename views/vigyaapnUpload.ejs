<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <style>
        .button1{
            margin-top: 20p;
     /* Adjust the top margin to create space */
        text-align: center;
        }
        /* Add these custom styles to your CSS file */
.custom-btn {
    background-color: #2F2E41; /* Match the background color of your page */
    color: white; /* Text color */
    border: none; /* Remove default button border */
    border-radius: 28.5px; /* Match the border-radius of your page's elements */
    padding: 10px 47px; /* Match the padding as needed */
    box-shadow: 0px 10px 40px 0px rgba(122, 129, 190, 0.16); /* Add a shadow */
    font-size: 18px; /* Adjust font size as needed */
}

.custom-btn:hover {
    background-color: #323146; /* Change the background color on hover */
    transition: background-color 0.3s; /* Add a smooth transition effect */
}
    </style>

    


</head>

<body>
    <%- include("partials/body"); -%>

    <section class="bottom">
        <div class="container">
            <h2 class="define">Property Details</h2>
            <form id="Vigyaapn-form">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="deed">Deed:</label>
                            <select id="deed" class="form-control input" name="deed" required>
                                <option value="Buy">Buy</option>
                                <option value="Sell">Sell</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="type">Type:</label>
                            <select id="type" class="form-control input" name="type" required>
                                <option value="Rent">Rent</option>
                                <option value="Purchase">Purchase</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="village">Village Name:</label>
                            <input type="text" id="village" class="form-control input" name="villageName" placeholder="Enter Village Name" required>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="price">Price:</label>
                            <input type="number" id="price" class="form-control input" name="price" placeholder="Enter Amount" required>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="land-type">Land Type:</label>
                            <select id="land-type" class="form-control input" name="landType" required>
                                <option value="Plot">Plot</option>
                                <option value="House">House</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="area">Area (sqft):</label>
                            <input type="number" id="area" class="form-control input" name="area" placeholder="Enter Area">
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="bhk">BHK:</label>
                    <input type="number" id="bhk" class="form-control input" name="bhk" placeholder="Enter BHK">
                </div>
                <div class="form-group">
                    <label for="house-type">Type of House:</label>
                    <select id="house-type" class="form-control input" name="houseType">
                        <option value="Fully furnished">Fully furnished</option>
                        <option value="Semi furnished">Semi furnished</option>
                        <option value="Unfurnished">Unfurnished</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="address">Address:</label>
                    <input type="text" id="address" class="form-control input" name="address" placeholder="Enter Address" required>
                </div>
                <div class="form-group">
                    <label for="description">Description:</label>
                    <textarea id="description" class="form-control input" rows="4" name="description" placeholder="Enter Description"></textarea>
                </div>
                <div class="button">
                    <button type="submit" class="btn custom-btn">Submit</button>
                </div>
            </form>
        </div>
    </section>
  
    <script>
        document.addEventListener("DOMContentLoaded", function() {
// Get references to the relevant form fields and labels
const landTypeSelect = document.getElementById("land-type");
const areaLabel = document.querySelector("label[for='area']");
const areaInput = document.getElementById("area");
const bhkLabel = document.querySelector("label[for='bhk']");
const bhkInput = document.getElementById("bhk");
const houseTypeLabel = document.querySelector("label[for='house-type']");
const houseTypeSelect = document.getElementById("house-type");

// Function to update field visibility and required attribute
function updateFields() {
    const selectedLandType = landTypeSelect.value;

    if (selectedLandType === "Plot") {
        areaLabel.style.display = "block";
        areaInput.style.display = "block";
        bhkLabel.style.display = "none";
        bhkInput.style.display = "none";
        houseTypeLabel.style.display = "none";
        houseTypeSelect.style.display = "none";

        // Make "Area" field required and remove required from "BHK" and "Type of House"
        areaInput.required = true;
        bhkInput.required = false;
        houseTypeSelect.required = false;
    } else if (selectedLandType === "House") {
        areaLabel.style.display = "none";
        areaInput.style.display = "none";
        bhkLabel.style.display = "block";
        bhkInput.style.display = "block";
        houseTypeLabel.style.display = "block";
        houseTypeSelect.style.display = "block";

        // Make "BHK" and "Type of House" fields required and remove required from "Area"
        areaInput.required = false;
        bhkInput.required = true;
        houseTypeSelect.required = true;
    }
}

// Initial call to update fields based on the default selection
updateFields();

// Add an event listener to the "Land Type" select field to update fields dynamically
landTypeSelect.addEventListener("change", updateFields);
document.getElementById("Vigyaapn-form").addEventListener("submit", function (e) {
        e.preventDefault(); // Prevent the default form submission
        
        const formData = {
                deed: document.getElementById("deed").value,
                type: document.getElementById("type").value,
                villageName: document.getElementById("village").value,
                price: document.getElementById("price").value,
                landType: document.getElementById("land-type").value,
                area: document.getElementById("area").value,
                bhk: document.getElementById("bhk").value,
                houseType: document.getElementById("house-type").value,
                description: document.getElementById("description").value,
                address: document.getElementById("address").value

            };
        
        // Send a POST request to a server endpoint (replace with your actual server URL)
        fetch("/vigyaapn/upload", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify(formData), // Convert form data to JSON object
        })
        .then(response => {
            if (response.ok) {
                document.getElementById("Vigyaapn-form").reset();
                // Handle a successful response (e.g., show a success message)
                console.log("Form data submitted successfully!");
            } else {
                // Handle an error response (e.g., show an error message)
                console.log("Error submitting form data.");
            }
        })
        .catch(error => {
            // Handle any network or fetch API error
            console.error("Error:", error);
            alert("An error occurred while submitting the form.");
        });
    });
        })

    </script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
crossorigin="anonymous">
</script>
</body>

</html>

